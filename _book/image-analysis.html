<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>11 Image analysis | Portfolio DataScience for Biology</title>
  <meta name="description" content="Dit is het portfolio van Anna van Donkersgoed voor het vak Data Science for biology 2" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="11 Image analysis | Portfolio DataScience for Biology" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Dit is het portfolio van Anna van Donkersgoed voor het vak Data Science for biology 2" />
  <meta name="github-repo" content="annavandonkersgoed/portfolio-annavandonkersgoed.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="11 Image analysis | Portfolio DataScience for Biology" />
  
  <meta name="twitter:description" content="Dit is het portfolio van Anna van Donkersgoed voor het vak Data Science for biology 2" />
  

<meta name="author" content="Anna van Donkersgoed" />


<meta name="date" content="2025-05-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/DNAfavicon.jpg" type="image/x-icon" />
<link rel="prev" href="covid-19-data-parameters.html"/>
<link rel="next" href="bronnen.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="mystyle.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Portfolio Anna van Donkersgoed</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introductie portfolio</a></li>
<li class="chapter" data-level="2" data-path="cirriculum-vitea.html"><a href="cirriculum-vitea.html"><i class="fa fa-check"></i><b>2</b> Cirriculum Vitea</a></li>
<li class="chapter" data-level="3" data-path="plan-voor-de-toekomst..html"><a href="plan-voor-de-toekomst..html"><i class="fa fa-check"></i><b>3</b> Plan voor de toekomst.</a></li>
<li class="chapter" data-level="4" data-path="guerilla-analytics.html"><a href="guerilla-analytics.html"><i class="fa fa-check"></i><b>4</b> Guerilla analytics</a></li>
<li class="chapter" data-level="5" data-path="c.elegans-plate-experiment.html"><a href="c.elegans-plate-experiment.html"><i class="fa fa-check"></i><b>5</b> C.elegans plate experiment</a></li>
<li class="chapter" data-level="6" data-path="reproduceerbaarheid.html"><a href="reproduceerbaarheid.html"><i class="fa fa-check"></i><b>6</b> Reproduceerbaarheid</a>
<ul>
<li class="chapter" data-level="6.1" data-path="reproduceerbaarheid.html"><a href="reproduceerbaarheid.html#reproduceerbaarheid-open-peer-review"><i class="fa fa-check"></i><b>6.1</b> Reproduceerbaarheid Open peer review</a></li>
<li class="chapter" data-level="6.2" data-path="reproduceerbaarheid.html"><a href="reproduceerbaarheid.html#reproduceerbaarheid-r-project"><i class="fa fa-check"></i><b>6.2</b> Reproduceerbaarheid R project</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="reletional-databases.html"><a href="reletional-databases.html"><i class="fa fa-check"></i><b>7</b> Reletional databases</a></li>
<li class="chapter" data-level="8" data-path="r-package.html"><a href="r-package.html"><i class="fa fa-check"></i><b>8</b> R package</a></li>
<li class="chapter" data-level="9" data-path="introductie-project-amr.html"><a href="introductie-project-amr.html"><i class="fa fa-check"></i><b>9</b> Introductie project AMR</a></li>
<li class="chapter" data-level="10" data-path="covid-19-data-parameters.html"><a href="covid-19-data-parameters.html"><i class="fa fa-check"></i><b>10</b> covid 19 data parameters</a></li>
<li class="chapter" data-level="11" data-path="image-analysis.html"><a href="image-analysis.html"><i class="fa fa-check"></i><b>11</b> Image analysis</a>
<ul>
<li class="chapter" data-level="11.1" data-path="image-analysis.html"><a href="image-analysis.html#afbeelding-analyseren-d.m.v.-ebimage"><i class="fa fa-check"></i><b>11.1</b> Afbeelding analyseren d.m.v. EBImage</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="bronnen.html"><a href="bronnen.html"><i class="fa fa-check"></i><b>12</b> Bronnen</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Portfolio DataScience for Biology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="image-analysis" class="section level1 hasAnchor" number="11">
<h1><span class="header-section-number">11</span> Image analysis<a href="image-analysis.html#image-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Image analysis is een techniek in R om afbeelding te analyseren op veel verschillende dingen. In dit gedeelte ga ik kijken op welke manieren afbeeldingen geanalyseerd kunnen worden, wat het verschil is tussen de manieren en ga ik fluorescentie afbeeldingen analyseren. Dit omdat ik deze techniek ook ga gebruiken op mijn stage.</p>
<div id="afbeelding-analyseren-d.m.v.-ebimage" class="section level2 hasAnchor" number="11.1">
<h2><span class="header-section-number">11.1</span> Afbeelding analyseren d.m.v. EBImage<a href="image-analysis.html#afbeelding-analyseren-d.m.v.-ebimage" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Er zijn verschillende manieren waarmee afbeeldingen geanalyseerd kunnen worden met R. Met de EBImage package kunnen afbeeldingen worden geanalyseerd, ook op basis van pixels.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="image-analysis.html#cb20-1" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&quot;BiocManager&quot;</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>))</span>
<span id="cb20-2"><a href="image-analysis.html#cb20-2" tabindex="-1"></a>    <span class="fu">install.packages</span>(<span class="st">&quot;BiocManager&quot;</span>)</span>
<span id="cb20-3"><a href="image-analysis.html#cb20-3" tabindex="-1"></a></span>
<span id="cb20-4"><a href="image-analysis.html#cb20-4" tabindex="-1"></a>BiocManager<span class="sc">::</span><span class="fu">install</span>(<span class="st">&quot;EBImage&quot;</span>)</span></code></pre></div>
<p>Tijdens dit voorbeeld wordt er gekeken naar het verschil tussen S. gordonii die een uur en twee uur geïncubeerd is in een welletje van een 24 wells plaat. De eerste stap is om de afbeelding in te laden.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="image-analysis.html#cb21-1" tabindex="-1"></a><span class="co">#Library loaden </span></span>
<span id="cb21-2"><a href="image-analysis.html#cb21-2" tabindex="-1"></a><span class="fu">library</span>(EBImage)</span>
<span id="cb21-3"><a href="image-analysis.html#cb21-3" tabindex="-1"></a>Image1_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;images&quot;</span>, <span class="st">&quot;S.gordonii_1h.jpg&quot;</span>)</span>
<span id="cb21-4"><a href="image-analysis.html#cb21-4" tabindex="-1"></a>Image1 <span class="ot">&lt;-</span> <span class="fu">readImage</span>(Image1_path)</span>
<span id="cb21-5"><a href="image-analysis.html#cb21-5" tabindex="-1"></a></span>
<span id="cb21-6"><a href="image-analysis.html#cb21-6" tabindex="-1"></a><span class="co">#Eigenschappen van de afbeelding </span></span>
<span id="cb21-7"><a href="image-analysis.html#cb21-7" tabindex="-1"></a><span class="fu">print</span>(Image1)</span></code></pre></div>
<pre><code>## Image 
##   colorMode    : Color 
##   storage.mode : double 
##   dim          : 411 426 3 
##   frames.total : 3 
##   frames.render: 1 
## 
## imageData(object)[1:5,1:6,1]
##           [,1]      [,2]      [,3]      [,4]      [,5]      [,6]
## [1,] 0.6980392 0.7098039 0.7215686 0.7450980 0.7725490 0.7725490
## [2,] 0.7725490 0.7490196 0.7411765 0.7568627 0.7607843 0.7294118
## [3,] 0.7372549 0.7411765 0.7490196 0.7607843 0.7490196 0.7333333
## [4,] 0.7215686 0.7607843 0.7686275 0.7294118 0.7019608 0.7254902
## [5,] 0.7450980 0.7568627 0.7372549 0.6862745 0.6705882 0.7215686</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="image-analysis.html#cb23-1" tabindex="-1"></a><span class="co">#Afbeelding printen </span></span>
<span id="cb23-2"><a href="image-analysis.html#cb23-2" tabindex="-1"></a><span class="fu">display</span>(Image1)</span></code></pre></div>
<p><img src="Portfolio_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Om het verschil tussen de pixels goed te kunnen zien wordt de afbeelding zwart en wit gemaakt. Hierbij hebben de pixels een waarde van 0 of 1.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="image-analysis.html#cb24-1" tabindex="-1"></a>Image1 <span class="ot">&lt;-</span> <span class="fu">getFrame</span>(Image1, <span class="dv">1</span>)</span>
<span id="cb24-2"><a href="image-analysis.html#cb24-2" tabindex="-1"></a>threshold <span class="ot">&lt;-</span> <span class="fu">otsu</span>(Image1)</span>
<span id="cb24-3"><a href="image-analysis.html#cb24-3" tabindex="-1"></a>thresh_Image1 <span class="ot">&lt;-</span> Image1 <span class="sc">&lt;</span> threshold</span>
<span id="cb24-4"><a href="image-analysis.html#cb24-4" tabindex="-1"></a></span>
<span id="cb24-5"><a href="image-analysis.html#cb24-5" tabindex="-1"></a><span class="fu">display</span>(thresh_Image1)</span></code></pre></div>
<p><img src="Portfolio_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="image-analysis.html#cb25-1" tabindex="-1"></a>nmask <span class="ot">&lt;-</span> <span class="fu">watershed</span>( <span class="fu">distmap</span>(thresh_Image1), <span class="dv">5</span>)</span>
<span id="cb25-2"><a href="image-analysis.html#cb25-2" tabindex="-1"></a><span class="fu">display</span>(<span class="fu">colorLabels</span>(nmask))</span></code></pre></div>
<p><img src="Portfolio_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="image-analysis.html#cb26-1" tabindex="-1"></a>Percentage_cellen_1h <span class="ot">&lt;-</span> (<span class="fu">length</span>(<span class="fu">which</span>(nmask <span class="sc">&gt;</span> <span class="fl">0.5</span>))<span class="sc">/</span><span class="fu">length</span>(nmask) <span class="sc">*</span> <span class="dv">100</span>) </span></code></pre></div>
<p>Nu is het interessant om te kijken of er een groot verschil is in cellen bij een incubatie van 1 uur versus een incubatie van 2 uur.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="image-analysis.html#cb27-1" tabindex="-1"></a>Incubatie_2h_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;images&quot;</span>, <span class="st">&quot;S.gordonii_2h.png&quot;</span>)</span>
<span id="cb27-2"><a href="image-analysis.html#cb27-2" tabindex="-1"></a>Incubatie_2h <span class="ot">&lt;-</span> <span class="fu">readImage</span>(Incubatie_2h_path)</span>
<span id="cb27-3"><a href="image-analysis.html#cb27-3" tabindex="-1"></a><span class="fu">display</span>(Incubatie_2h)</span></code></pre></div>
<p><img src="Portfolio_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="image-analysis.html#cb28-1" tabindex="-1"></a>Incubatie_2h <span class="ot">&lt;-</span> <span class="fu">getFrame</span>(Incubatie_2h, <span class="dv">1</span>)</span>
<span id="cb28-2"><a href="image-analysis.html#cb28-2" tabindex="-1"></a>threshold <span class="ot">&lt;-</span> <span class="fu">otsu</span>(Incubatie_2h)</span>
<span id="cb28-3"><a href="image-analysis.html#cb28-3" tabindex="-1"></a>thresh_Incubatie_2h <span class="ot">&lt;-</span> Incubatie_2h <span class="sc">&lt;</span> threshold</span>
<span id="cb28-4"><a href="image-analysis.html#cb28-4" tabindex="-1"></a></span>
<span id="cb28-5"><a href="image-analysis.html#cb28-5" tabindex="-1"></a><span class="fu">display</span>(thresh_Incubatie_2h)</span></code></pre></div>
<p><img src="Portfolio_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="image-analysis.html#cb29-1" tabindex="-1"></a>nmask_2h <span class="ot">&lt;-</span> <span class="fu">watershed</span>( <span class="fu">distmap</span>(thresh_Incubatie_2h), <span class="dv">5</span>)</span>
<span id="cb29-2"><a href="image-analysis.html#cb29-2" tabindex="-1"></a><span class="fu">display</span>(<span class="fu">colorLabels</span>(nmask_2h))</span></code></pre></div>
<p><img src="Portfolio_files/figure-html/unnamed-chunk-14-3.png" width="672" /></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="image-analysis.html#cb30-1" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">table</span>(<span class="fu">bwlabel</span>(thresh_Incubatie_2h)))</span></code></pre></div>
<pre><code>## [1] 1147</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="image-analysis.html#cb32-1" tabindex="-1"></a>Percentage_cellen_2h <span class="ot">&lt;-</span> (<span class="fu">length</span>(<span class="fu">which</span>(nmask <span class="sc">&gt;</span> <span class="fl">0.5</span>))<span class="sc">/</span><span class="fu">length</span>(nmask_2h) <span class="sc">*</span> <span class="dv">100</span>) </span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="covid-19-data-parameters.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bronnen.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section"
  }
});
});
</script>

</body>

</html>
